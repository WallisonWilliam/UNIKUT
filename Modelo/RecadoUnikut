package Unikut.Modelo;

import java.util.Scanner;
import Unikut.Controle.Conta;
import Unikut.Controle.Node;

public class RecadoUnikut {
    Scanner in = new Scanner (System.in);
    Scanner input = new Scanner (System.in);

    public void opRecados(ListaUnikut listAmg, Conta cont) {
        char opRec;
        String emailRec, recado;
        Conta contRec;
        Node aux;
        if (listAmg.isEmpty() == true) {
            System.out.println("Você não tem nenhum amigo adicionado.");
            return;
        }
        menuRec();
        do {
            System.out.println();
            System.out.println("Menu de recados.");
            System.out.println("Digite 3 para exibir as opções de recados novamente.");
            System.out.println("Informe a sua opção desejada: ");
            opRec = in.next().charAt(0);
            if (opRec == '1') {
                mandarRecado(listAmg, cont);
            }
            else if (opRec == '2') {
                listAmg.vizRec();
            }
            else if (opRec == '3') {
                menuRec();
            }
            else if (opRec == '0') {
                System.out.println("Voltando para o menu do perfil.");
            }
            else {
                System.out.println("Opção inválida.");
            }
        } while (opRec != '0');
    }

    public void mandarRecado(ListaUnikut listAmg, Conta cont) {
        String emailRec, recado;
        Conta contRec;
        Node aux;
        System.out.println("Informe o email do amigo que deseja mandar uma mensagem: ");
        emailRec = input.nextLine();
        contRec = new Conta(emailRec);
        aux = listAmg.buscaList(contRec);
        if (aux == null) {
            System.out.println("O email informado não está na sua lista de amigos.");
        }
        else if (contRec.compareTo(cont) == 0) {
            System.out.println("Não é possível mandar mensagem para si mesmo.");
        }
        else {
            System.out.println("Informe o recado que deseja mandar para seu amigo: ");
            recado = input.nextLine();
            contRec.setRecadAmiz(recado);
        }
    }

    public void menuRec() {
        System.out.println("Opções do menu de recados:");
        System.out.println("1 - Mandar recados para algum amigo.");
        System.out.println("2 - Exibir todos os recados.");
        System.out.println("0 - sair do menu de recados.");
    }
}
